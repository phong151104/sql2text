# metadata/domains/vnfilm_ticketing/metrics.yaml
metrics:
  - name: total_vnpay_revenue
    business_name: "Tổng doanh thu VNPAY"
    description: "Tổng vnpay_total_amount trong khoảng thời gian chỉ định."
    expression: "SUM(orders.vnpay_total_amount)"
    base_table: orders
    grain: aggregated
    unit: VND
    tags: [revenue, vnpay]

  - name: total_seats
    business_name: "Tổng số ghế/vé bán ra"
    description: "Tổng number_of_seats trong khoảng thời gian chỉ định."
    expression: "SUM(orders.number_of_seats)"
    base_table: orders
    grain: aggregated
    tags: [volume, seat]

  - name: order_count
    business_name: "Số lượng đơn hàng"
    description: "Số dòng (orders) trong khoảng thời gian chỉ định."
    expression: "COUNT(*)"
    base_table: orders
    grain: aggregated
    tags: [volume, order]
